<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      background-color: #2b2b2b; /* START: Dark background */
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      flex-direction: column;
      overflow: hidden;
      color: white;
    }

    #loopVideo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
      display: none; /* Hidden until envelope is clicked */
    }

    .LButton {
      height: 80px;
      width: 50px;
      background-color: #595858;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
    }

    .LButton2 {
      height: 25px;
      width: 25px;
      background-color: #ABA1A1;
      cursor: pointer;
    }

    .envelope-wrapper {
      position: absolute;
      bottom: -200px;
      transition: bottom 1s ease;
      cursor: pointer;
    }

    .envelope-wrapper.show {
      bottom: 100px;
    }

    .envelope {
      width: 240px;
      height: 100px;
      background: #f8bfc4;
      border: 2px solid #d3959b;
      border-radius: 10px 10px 0 0;
      position: relative;
      padding-top: 40px;
      z-index: 2;
    }

    .envelope::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 80px;
      background: #f4aab2;
      clip-path: polygon(0 0, 50% 80%, 100% 0);
    }

    .flowers {
      position: absolute;
      top: 10px;
      display: flex;
      gap: 8px;
      opacity: 0;
      transition: opacity 1s;
    }

    .flowers.show {
      opacity: 1;
    }

    .flower {
      width: 30px;
      height: 60px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .petal {
      width: 24px;
      height: 24px;
      background-color: pink;
      border-radius: 50% 50% 0 0;
    }

    .stem {
      width: 4px;
      height: 30px;
      background: green;
    }
  </style>
</head>
<body>

<video id="loopVideo" autoplay loop playsinline>
  <source src="Capy.mp4" type="video/mp4">
</video>

<div class="LButton">
  <button class="LButton2" onclick="showEnvelope()"></button>
</div>

<div class="envelope-wrapper" id="envWrapper" onclick="openEnvelope()">
  <div class="envelope">
    <div class="flowers" id="flowers">
      <div class="flower"><div class="petal"></div><div class="stem"></div></div>
      <div class="flower"><div class="petal"></div><div class="stem"></div></div>
      <div class="flower"><div class="petal"></div><div class="stem"></div></div>
    </div>
  </div>
</div>

<script>
let clickedButton = false;
let envelopeOpened = false;

function showEnvelope() {
  if (clickedButton) return;
  clickedButton = true;

  document.body.style.backgroundColor = "white"; // STEP 1: Turn white

  setTimeout(() => {
    document.getElementById("envWrapper").classList.add("show");
  }, 1000);
}

function openEnvelope() {
  if (envelopeOpened) return;
  envelopeOpened = true;

  document.getElementById("flowers").classList.add("show");

  const video = document.getElementById("loopVideo");
  document.body.style.backgroundColor = "transparent"; // STEP 2: Remove white
  video.style.display = "block";
  video.volume = 0.5;
  video.play().catch(console.error);
}
</script>

</body>
</html>
  