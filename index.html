<!DOCTYPE html>
<html>
<head>
<style>
body {
  background-color: #2b2b2b;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  color: white;
  overflow: hidden;
  flex-direction: column;
  transition: background-image 1s ease;
}

/* Button Styles */
.LButton {
  display: flex;
  height: 80px;
  width: 50px;
  position: relative;
  align-items: center;
  background-color: #595858;
  justify-content: center;
  margin-bottom: 20px;
  z-index: 0;
}

.LButton2 {
  flex: 1;
  display: flex;
  align-items: center;
  height: 25px;
  width: 25px;
  position: absolute;
  background-color: #ABA1A1;
  cursor: pointer;
}

/* Envelope and Animation */
.envelope-wrapper {
  position: absolute;
  bottom: -200px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  transition: bottom 1s ease;
  gap: 10px;
  cursor: pointer;
}

.envelope-wrapper.show {
  bottom: 100px;
}

.envelope {
  position: relative;
  width: 240px;
  left: 200px;
  top: 100px;
  height: 100px;
  background: #f8bfc4;
  border: 2px solid #d3959b;
  border-radius: 10px 10px 0 0;
  overflow: visible;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  padding-top: 40px;
  z-index: 2;
}

/* Stylized flap */
.envelope::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 80px;
  background: #f4aab2;
  clip-path: polygon(0 0, 50% 80%, 100% 0);
  z-index: -1;
  border-bottom: 2px solid #d3959b;
}

.envelope.open-flap::before {
  transform: rotateX(180deg);
  top: -80px;
  z-index: -1;
}

/* Flowers inside the envelope */
.flowers {
  position: absolute;
  top: 10px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
  opacity: 0;
  transition: opacity 1s ease;
  max-width: 100%;
  z-index: 0;
}

.flowers.show {
  opacity: 1;
}

.flower {
  position: relative;
  width: 30px;
  height: 60px;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 10px;
}

.flower .petal {
  width: 24px;
  height: 24px;
  background-color: pink;
  border-radius: 50% 50% 0 0;
  margin-bottom: 2px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.flower.yellow .petal { background-color: #f4e664; }
.flower.blue .petal { background-color: #ace7ef; }

.flower .stem {
  width: 4px;
  height: 30px;
  background: green;
  border-radius: 2px;
}

/* Letter animation */
.letter {
  position: absolute;
  width: 180px;
  height: 80px;
  background: white;
  border: 1px solid #ccc;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  bottom: 100%;
  left: 0;
  transform: translateY(100%);
  transition: transform 1s ease, opacity 0.5s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: #333;
  z-index: 1;
  cursor: pointer;
  opacity: 0;
}

.letter.show {
  transform: translate(-200%, -50%);
  opacity: 1;
}

.letter.zoom {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(2);
  z-index: 100;
  transition: transform 0.6s ease;
}

.message {
  display: none;
  margin-top: 10px;
  font-size: 16px;
  color: #fff;
  z-index: 101;
  position: relative;
}

.message.show {
  display: block;
}

/* Placeholder sound */
#audio-placeholder {
  display: none;
}
</style>
</head>
<body>
<!-- First video: only plays once -->
<video id="introVideo" autoplay muted playsinline style="position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:-1;display:none;">
  <source src="Wed.mp4" type="video/mp4">
</video>

<!-- Looping background video -->
<video id="loopVideo" autoplay muted loop playsinline style="position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:-2;display:none;">
  <source src="WedLoop.mp4" type="video/mp4">
</video>

<audio id="popSound" src="Sounded.mp3" preload="auto"></audio>
<audio id="clickSound" src="click.mp3" preload="auto"></audio>

<div class="LButton">
  <button class="LButton2" onclick="Changed()"></button>
</div>

<div class="envelope-wrapper" id="envWrapper" onclick="openEnvelope()">
  <div class="letter" id="letter" onclick="revealMessage(event)">Click to reveal message</div>
  <div class="envelope" id="envelope">
    <div class="flowers" id="flowers">
      <div class="flower">
        <div class="petal"></div>
        <div class="stem"></div>
      </div>
      <div class="flower yellow">
        <div class="petal"></div>
        <div class="stem"></div>
      </div>
      <div class="flower blue">
        <div class="petal"></div>
        <div class="stem"></div>
      </div>
      <div class="flower">
        <div class="petal"></div>
        <div class="stem"></div>
      </div>
      <div class="flower yellow">
        <div class="petal"></div>
        <div class="stem"></div>
      </div>
      <div class="flower blue">
        <div class="petal"></div>
        <div class="stem"></div>
      </div>
    </div>
  </div>
</div>

<div class="message" id="message"></div>
<div id="audio-placeholder">[Sound Placeholder]</div>

<script>
let Grad = false;
let envelopeOpened = false;
let letterZoomed = false;

function Changed() {
   const clickSound = document.getElementById("clickSound");
    if (clickSound) {
        clickSound.volume = 0.4;
        clickSound.play();
    }
  if (!Grad) {
    document.body.style.backgroundColor = "white";

    setTimeout(() => {
      document.getElementById("envWrapper").classList.add("show");
      const popSound = document.getElementById("popSound");
      if (popSound) {
        popSound.volume = 0.4;
        popSound.play();
      }

    }, 3000);
  } else {
    document.body.style.backgroundImage = "";
    document.body.style.backgroundColor = "#2b2b2b";
    document.getElementById("envWrapper").classList.remove("show");
    document.getElementById("flowers").classList.remove("show");
    document.getElementById("letter").classList.remove("show", "zoom");
    document.getElementById("message").classList.remove("show");
    document.getElementById("envelope").classList.remove("open-flap");
    envelopeOpened = false;
    letterZoomed = false;
    document.getElementById("letter").innerHTML = "Click to reveal message";
  }
  Grad = !Grad;
}

function openEnvelope() {
  if (!envelopeOpened) {
    // Show flowers and letter
    document.getElementById("flowers").classList.add("show");
    document.getElementById("letter").classList.add("show");
    document.getElementById("envelope").classList.add("open-flap");
    envelopeOpened = true;

    // Start first video
    const intro = document.getElementById("introVideo");
    const loop = document.getElementById("loopVideo");
    intro.style.display = "block";
    intro.play();

    // When first video ends, show and loop the next one
    intro.onended = () => {
      intro.style.display = "none";
      loop.style.display = "block";
      loop.play();
    };
  }
}


function revealMessage(e) {
  e.stopPropagation();
  const letter = document.getElementById("letter");

  if (!letterZoomed) {
    letter.classList.add("zoom");
    setTimeout(() => {
      document.getElementById("message").classList.add("show");
    }, 600);
    letter.innerHTML = "YOU CLICKED ME!";
  } else {
    letter.classList.remove("zoom");
    document.getElementById("message").classList.remove("show");
    letter.innerHTML = "Click to reveal message";
  }

  letterZoomed = !letterZoomed;
}
</script>
</body>
</html>